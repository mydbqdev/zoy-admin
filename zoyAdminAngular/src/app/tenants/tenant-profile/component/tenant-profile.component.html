<ngx-spinner bdColor="rgba(0,0,0,0.8)" size="medium" color="#fff" type="ball-circus" [fullScreen]="true">
    <p style="color: white;">Loading ...</p>
  </ngx-spinner>
  <div id="page-top">
      <!-- Page Wrapper -->
      <div id="wrapper">    
        <!-- Sidebar -->
          <app-sidebar></app-sidebar>
        <!-- End of Sidebar -->
  
          <!-- Content Wrapper -->
          <div id="content-wrapper" class="d-flex flex-column" [ngClass]=" isExpandSideBar ?'side-bar-expand':'side-bar-collaspe'">
              <!-- Main Content -->
              <div id="content">
                  <div style="display: block;margin-bottom: 5.375rem;">
                  <!-- Topbar -->
                  <app-header></app-header>
                  <!-- End of Topbar -->
                  </div>
  
                  <!-- Begin Page Content -->
                  <div class="container-fluid">
                    <div class="d-sm-flex align-items-center justify-content-between mb-3">
                      <h3 class="h3 mb-0"><span class="text-header-800 text-header-border">Tenant</span><span class="text-header-800-blue">Profile</span></h3> 
                      <div>  
                                            
                      </div> 
                      <div class="ml-auto">  
                        <a class="btn btn-primary-custom" style="margin: -10px 0px;" href="javascript:history.back()" title="back to owner list"><i class="fas fa-chevron-circle-left mr-1"></i>Back</a>             
                      </div> 
                    </div>
                      <!-- Content Row -->
                      <div class="card shadow mb-3">
                        <div class="card-body" style="display: block;margin: 0px;padding: 2px;height: calc(100vh - 155px)" >
                            <div class="row m-2 pt-2">
                              <div class="col-sm-3">
                                <div class="mr-1"  style="border:1px solid rgb(226, 224, 224);border-radius: 10px;height: calc(100vh - 191px)">
                                  <div style="text-align: end;padding-right: 20px;margin-top: 10px;"><i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i></div>
                                  <div style="text-align: center;padding:10px 30%;margin-top: -35px;">
                                    <div style="height: 100px;width: 100px;border-radius: 50%;border:1px dashed rgb(36, 206, 248);padding: 1px;">
                                      <div style="height: 96px;width: 96px;border-radius: 50%;background-color:  rgb(36, 206, 248)">
                                        <div style="text-align: center;font-size: 38px;color:#ffffff;padding-top: 20px;">M</div>
                                      </div>
                                    </div>
                                  </div>
                                  <div style="text-align: end;padding-right: 57px;margin-top: -50px;"><img src="assets/images/ekyc-verified.png" class="image-responsive" style="height: 25px; width: 55px;"></div>
                                  <div style="text-align: center;margin-top:40px;" class="pb-2">Mahendra Kumar</div>
                                  <div class="pl-3" style="font-size: 14px;color:#707070;">
                                    <div class="mb-1">Contact : 8792557642</div>
                                    <div class="mb-1">Email Id : xyzgmail.com</div>
                                    <div class="mb-1">Member Since : 12/01/2024</div>
                                    <div class="mb-1">Check In : Srinivas PG </div>
                                    <div class="mb-1">Status : Active</div>
                                  </div>
                                </div>
                              </div>
                              <div class="col-sm-9">
                                <div>
                                  <nav class="nav nav-pills nav-justified" style="background-color:#F9F9FB;border-radius: 5px;border:1px solid #dedee0">
                                    <a class="nav-link profile-tab" [ngClass]="selectedTab==1?'active':''" aria-current="page" (click)="selectProfile(1,'Persional Details')" style="border-radius: 0px;">Tenant Profile</a>
                                    <a class="dropdown nav-link profile-tab" [ngClass]="selectedTab==2?'active':''"  id="dropdownMenuDownload" data-bs-toggle="dropdown" style="border-radius: 0px;border-left:1px solid #dedee0;border-right: 1px solid #dedee0;">Booking Details <i class="fas fa-chevron-down ml-2"></i></a>
                                    <div class="dropdown-menu shadow animated-fade-in" aria-labelledby="dropdownMenuDownload" style="min-width: 263px !important;text-align: center;">
                                      <a class="dropdown-item" href="javascript:void(0)" (click)="selectProfile(2,'Active Booking Details')" >Active Bookings </a><hr style="margin-top: 0rem !important; margin-bottom: 0rem !important;">
                                      <a class="dropdown-item" href="javascript:void(0)" (click)="selectProfile(2,'Closed Booking Details')" >Closed Bookings</a><hr style="margin-top: 0rem !important; margin-bottom: 0rem !important;">
                                      <a class="dropdown-item" href="javascript:void(0)" (click)="selectProfile(2,'Upcoming Booking Details')" >Upcoming Bookings</a>   
                                    </div>
                                    <a class="dropdown nav-link profile-tab" [ngClass]="selectedTab==3?'active':''" id="dropdownShow" data-bs-toggle="dropdown" style="border-radius: 0px;border-left:1px solid #dedee0;border-right: 1px solid #dedee0;">Transactions Details <i class="fas fa-chevron-down ml-2"></i></a>
                                    <div class="dropdown-menu shadow animated-fade-in" aria-labelledby="dropdownShow" style="min-width: 263px !important;text-align: center;">
                                      <a class="dropdown-item" href="javascript:void(0)" (click)="selectProfile(3,'Payment History')" >Payment History </a><hr style="margin-top: 0rem !important; margin-bottom: 0rem !important;">
                                      <a class="dropdown-item" href="javascript:void(0)" (click)="selectProfile(3,'Due History')" >Due History</a><hr style="margin-top: 0rem !important; margin-bottom: 0rem !important;">
                                      <a class="dropdown-item" href="javascript:void(0)" (click)="selectProfile(3,'Refund History')" >Refund History</a>   
                                    </div>
                                  </nav>
                                </div>
                                <div class="row mt-2">
                                  <div class="col-sm-12">
                                    <div style="border:1px solid rgb(226, 224, 224);border-radius: 10px;">
                                      <div style="background-color: #D6CBEE; padding: 5px 20px; border-top-left-radius: 10px; border-top-right-radius: 10px; color: #4b2996; display: flex; justify-content: space-between; align-items: center;">
                                        <div>{{sectionTabHeader}}</div>
                                        <!-- Date filter -->
                                        <div class="d-flex" *ngIf="selectedTab == 3">Date Range: 
                                          <input type="date" class="form-control form-control-sm" style="width: 110px; font-size: 12px;" id="fromDate"/> 
                                          <span style="margin: 0 5px;">-</span>
                                          <input type="date" class="form-control form-control-sm" style="width: 110px; font-size: 12px;" id="toDate"/>
                                        </div>
                                      </div>
                                      
                                      <div style="height: calc(100vh - 275px);padding:5px 10px;">
                                        <div *ngIf="selectedTab==1">
                                          <div class="pl-3" style="font-size: 14px;color: #707070;">
                                            <div class="row mb-1"><div class="col-sm-4">Emergency Number</div><div class="col-sm-8"><span class="mr-2">:</span>8792557642</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Alternative Phone Number</div><div class="col-sm-8"><span class="mr-2">:</span>8792557642</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Tenant Type</div><div class="col-sm-8"><span class="mr-2">:</span>Student</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Gender</div><div class="col-sm-8"><span class="mr-2">:</span>Male</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Date of Birth</div><div class="col-sm-8"><span class="mr-2">:</span>12/02/2000</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Blood Group</div><div class="col-sm-8"><span class="mr-2">:</span>O+</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Father's Name</div><div class="col-sm-8"><span class="mr-2">:</span>Srinivash</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Present Address</div><div class="col-sm-8"><span class="mr-2">:</span>BBSR</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Permanent Address</div><div class="col-sm-8"><span class="mr-2">:</span>BBSR</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Nationality</div><div class="col-sm-8"><span class="mr-2">:</span>Indian</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Mother Tongue</div><div class="col-sm-8"><span class="mr-2">:</span>Odia</div></div>
                                          </div>
                                        </div>
                                        <div *ngIf="selectedTab==2 && sectionTabHeader=='Active Booking Details'">
                                          <div class="pl-3" style="font-size: 14px;color: #707070;">
                                            <div class="row mb-1"><div class="col-sm-4">PG Name</div><div class="col-sm-8"><span class="mr-2">:</span>Srinivash PG</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Monthly Rent/Bed</div><div class="col-sm-8"><span class="mr-2">:</span>11,000.00</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Security Deposit</div><div class="col-sm-8"><span class="mr-2">:</span>10,000.00</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Dues</div><div class="col-sm-8"><span class="mr-2">:</span>5,000.00</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Room / Bed No</div><div class="col-sm-8"><span class="mr-2">:</span>1101-A</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Check In</div><div class="col-sm-8"><span class="mr-2">:</span>12/01/2024</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Check Out</div><div class="col-sm-8"><span class="mr-2">:</span>-</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Rent Cycle</div><div class="col-sm-8"><span class="mr-2">:</span>01-01</div></div>
                                            <div class="row mb-1"><div class="col-sm-4">Notice Period</div><div class="col-sm-8"><span class="mr-2">:</span>1 month</div></div>
                                          </div>
                                        </div>
                                        <div *ngIf="selectedTab==2 && sectionTabHeader=='Closed Booking Details'">
                                          <div class="col-xl-12 col-sm-6">
                                            <div class="card mb-2">
                                            <div class="card-body" style="margin: 0px;padding: 2px;">
                                              <div class="pl-3" style="font-size: 14px;color: #707070;">
                                                <div class="row mb-1"><div class="col-sm-2">PG Name</div><div class="col-sm-6"><span class="mr-2">:</span>Shrinivas PG ,Bed No.100-c</div><div class="col-sm-4"><span class="mr-2">Booking Id : </span>daee-232ds-erw4-34d</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Booking Date</div><div class="col-sm-6"><span class="mr-2">:</span>12/11/2024</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Cancellation Date</div><div class="col-sm-6"><span class="mr-2">:</span>13/11/2024</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Monthly Rent</div><div class="col-sm-6"><span class="mr-2">:</span>5,000.00</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Security Deposite</div><div class="col-sm-6"><span class="mr-2">:</span>10,000.00</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Address</div><div class="col-sm-6"><span class="mr-2">:</span>Hyderabad</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Contact</div><div class="col-sm-6"><span class="mr-2">:</span>9845898765</div><div class="col-sm-4"><span class="mr-2"></span><span class="btn-sm btn-primary-custom">Cancelled</span></div></div>
                                              </div>
                                              </div>
                                            </div>
                                            <div class="card mb-2">
                                            <div class="card-body" style="margin: 0px;padding: 2px;">
                                              <div class="pl-3" style="font-size: 14px;color: #707070;">
                                                <div class="row mb-1"><div class="col-sm-2">PG Name</div><div class="col-sm-6"><span class="mr-2">:</span>Shrinivas PG ,Bed No.100-c</div><div class="col-sm-4"><span class="mr-2">Booking Id : </span>daee-232ds-erw4-34d</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Booking Date</div><div class="col-sm-6"><span class="mr-2">:</span>12/11/2024</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Cancellation Date</div><div class="col-sm-6"><span class="mr-2">:</span>13/11/2024</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Monthly Rent</div><div class="col-sm-6"><span class="mr-2">:</span>5,000.00</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Security Deposite</div><div class="col-sm-6"><span class="mr-2">:</span>10,000.00</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Address</div><div class="col-sm-6"><span class="mr-2">:</span>Hyderabad</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Contact</div><div class="col-sm-6"><span class="mr-2">:</span>9845898765</div><div class="col-sm-4"><span class="mr-2"></span><span class="btn-sm btn-primary-custom">Check-out</span></div></div>
                                              </div>
                                              </div>
                                            </div>
                                            <!-- <div class="card mb-2">
                                              <div class="card-body" style="margin: 0px;padding: 2px;">
                                                <div class="pl-3" style="font-size: 14px;color: #707070;">
                                                  <div class="row mb-1"><div class="col-sm-2">PG Name</div><div class="col-sm-6"><span class="mr-2">:</span>Shrinivas PG ,Bed No.100-c</div><div class="col-sm-4"><span class="mr-2">Booking Id : </span>daee-232ds-erw4-34d</div></div>
                                                  <div class="row mb-1"><div class="col-sm-2">Booking Date</div><div class="col-sm-6"><span class="mr-2">:</span>12/11/2024</div></div>
                                                  <div class="row mb-1"><div class="col-sm-2">Cancellation Date</div><div class="col-sm-6"><span class="mr-2">:</span>13/11/2024</div></div>
                                                  <div class="row mb-1"><div class="col-sm-2">Monthly Rent</div><div class="col-sm-6"><span class="mr-2">:</span>5,000.00</div></div>
                                                  <div class="row mb-1"><div class="col-sm-2">Security Deposite</div><div class="col-sm-6"><span class="mr-2">:</span>10,000.00</div></div>
                                                  <div class="row mb-1"><div class="col-sm-2">Address</div><div class="col-sm-6"><span class="mr-2">:</span>Hyderabad</div></div>
                                                  <div class="row mb-1"><div class="col-sm-2">Contact</div><div class="col-sm-6"><span class="mr-2">:</span>9845898765</div><div class="col-sm-4"><span class="mr-2"></span><span class="btn-sm btn-primary-custom">Check-out</span></div></div>
                                                </div>
                                                </div>
                                              </div> -->
                                            </div>
                                        </div>
                                        <div *ngIf="selectedTab==2 && sectionTabHeader=='Upcoming Booking Details'">
                                          <div class="col-xl-12 col-sm-6">
                                            <div class="card mb-2">
                                            <div class="card-body" style="margin: 0px;padding: 2px;">
                                              <div class="pl-3" style="font-size: 14px;color: #707070;">
                                                <div class="row mb-1"><div class="col-sm-2">PG Name</div><div class="col-sm-6"><span class="mr-2">:</span>Shrinivas PG ,Bed No.100-c</div><div class="col-sm-4"><span class="mr-2">Booking Id : </span>daee-232ds-erw4-34d</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Booking Date</div><div class="col-sm-6"><span class="mr-2">:</span>12/11/2024</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Cancellation Date</div><div class="col-sm-6"><span class="mr-2">:</span>13/11/2024</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Monthly Rent</div><div class="col-sm-6"><span class="mr-2">:</span>5,000.00</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Security Deposite</div><div class="col-sm-6"><span class="mr-2">:</span>10,000.00</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Address</div><div class="col-sm-6"><span class="mr-2">:</span>Hyderabad</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Contact</div><div class="col-sm-6"><span class="mr-2">:</span>9845898765</div><div class="col-sm-4"><span class="mr-2"></span></div></div>
                                              </div>
                                              </div>
                                            </div>
                                            <div class="card mb-2">
                                            <div class="card-body" style="margin: 0px;padding: 2px;">
                                              <div class="pl-3" style="font-size: 14px;color: #707070;">
                                                <div class="row mb-1"><div class="col-sm-2">PG Name</div><div class="col-sm-6"><span class="mr-2">:</span>Shrinivas PG ,Bed No.100-c</div><div class="col-sm-4"><span class="mr-2">Booking Id : </span>daee-232ds-erw4-34d</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Booking Date</div><div class="col-sm-6"><span class="mr-2">:</span>12/11/2024</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Cancellation Date</div><div class="col-sm-6"><span class="mr-2">:</span>13/11/2024</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Monthly Rent</div><div class="col-sm-6"><span class="mr-2">:</span>5,000.00</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Security Deposite</div><div class="col-sm-6"><span class="mr-2">:</span>10,000.00</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Address</div><div class="col-sm-6"><span class="mr-2">:</span>Hyderabad</div></div>
                                                <div class="row mb-1"><div class="col-sm-2">Contact</div><div class="col-sm-6"><span class="mr-2">:</span>9845898765</div><div class="col-sm-4"><span class="mr-2"></span></div></div>
                                              </div>
                                              </div>
                                            </div>
                                            <!-- <div class="card mb-2">
                                              <div class="card-body" style="margin: 0px;padding: 2px;">
                                                <div class="pl-3" style="font-size: 14px;color: #707070;">
                                                  <div class="row mb-1"><div class="col-sm-2">PG Name</div><div class="col-sm-6"><span class="mr-2">:</span>Shrinivas PG ,Bed No.100-c</div><div class="col-sm-4"><span class="mr-2">Booking Id : </span>daee-232ds-erw4-34d</div></div>
                                                  <div class="row mb-1"><div class="col-sm-2">Booking Date</div><div class="col-sm-6"><span class="mr-2">:</span>12/11/2024</div></div>
                                                  <div class="row mb-1"><div class="col-sm-2">Cancellation Date</div><div class="col-sm-6"><span class="mr-2">:</span>13/11/2024</div></div>
                                                  <div class="row mb-1"><div class="col-sm-2">Monthly Rent</div><div class="col-sm-6"><span class="mr-2">:</span>5,000.00</div></div>
                                                  <div class="row mb-1"><div class="col-sm-2">Security Deposite</div><div class="col-sm-6"><span class="mr-2">:</span>10,000.00</div></div>
                                                  <div class="row mb-1"><div class="col-sm-2">Address</div><div class="col-sm-6"><span class="mr-2">:</span>Hyderabad</div></div>
                                                  <div class="row mb-1"><div class="col-sm-2">Contact</div><div class="col-sm-6"><span class="mr-2">:</span>9845898765</div><div class="col-sm-4"><span class="mr-2"></span></div></div>
                                                </div>
                                                </div>
                                              </div> -->
                                            </div>
                                          </div>
                                         <div *ngIf="selectedTab==3 && sectionTabHeader=='Payment History'">
                                          <div>
                                            <table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)" matSortActive="due_type" matSortDirection="asc" >
                                              <!-- Due Type Column -->
                                              <ng-container matColumnDef="due_type">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 190px;" title="REGISTERED DATE">DUE TYPE
                                                  <span style="margin-left: 2px;">
                                                    <i class="fas fa-lg fa-sort-up sorting-normal-color" [ngClass]="{'sorting-selected-color': columnSortDirections['due_type'] === 'asc' }"></i>
                                                    <i class="fas fa-lg fa-sort-down sorting-normal-color" style="margin-left:-11px" [ngClass]="{'sorting-selected-color': columnSortDirections['due_type'] === 'desc'}"></i>
                                                  </span>
                                                </th>
                                                <td mat-cell *matCellDef="let element" style="width: 190px;"> {{ element.due_type }} </td>
                                              </ng-container>
                                              <!-- Payment Date Column -->
                                              <ng-container matColumnDef="payment_date">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 250px;"> PAYMENT DATE
                                                  <span style="margin-left: 2px;">
                                                    <i class="fas fa-lg fa-sort-up sorting-normal-color" [ngClass]="{'sorting-selected-color': columnSortDirections['payment_date'] === 'asc' }"></i>
                                                    <i class="fas fa-lg fa-sort-down sorting-normal-color" style="margin-left:-11px" [ngClass]="{'sorting-selected-color': columnSortDirections['payment_date'] === 'desc'}"></i>
                                                  </span>
                                                </th>
                                                <td mat-cell *matCellDef="let element" style="width: 250px;"> {{ element.payment_date }} </td>
                                              </ng-container>
                                              <!-- Paid Amount Column -->
                                              <ng-container matColumnDef="paid_amount">
                                                <th mat-header-cell *matHeaderCellDef style="width: 250px;">PAID AMOUNT</th>
                                                <td mat-cell *matCellDef="let element" style="width: 250px;"> {{ element.paid_amount }} </td>
                                              </ng-container>
                                              <!-- Payment Mode Column -->
                                              <ng-container matColumnDef="paid_mode">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 250px;"> PAYMENT MODE
                                                  <span style="margin-left: 2px;">
                                                    <i class="fas fa-lg fa-sort-up sorting-normal-color" [ngClass]="{'sorting-selected-color': columnSortDirections['paid_mode'] === 'asc' }"></i>
                                                    <i class="fas fa-lg fa-sort-down sorting-normal-color" style="margin-left:-11px" [ngClass]="{'sorting-selected-color': columnSortDirections['paid_mode'] === 'desc'}"></i>
                                                  </span>
                                                </th>
                                                <td mat-cell *matCellDef="let element" style="width: 250px;">{{ element.paid_mode }}</td>
                                              </ng-container>
                                              <!-- Due Date Column -->
                                              <ng-container matColumnDef="due_date">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 250px;"> DUE DATE
                                                  <span style="margin-left: 2px;">
                                                    <i class="fas fa-lg fa-sort-up sorting-normal-color" [ngClass]="{'sorting-selected-color': columnSortDirections['due_date'] === 'asc' }"></i>
                                                    <i class="fas fa-lg fa-sort-down sorting-normal-color" style="margin-left:-11px" [ngClass]="{'sorting-selected-color': columnSortDirections['due_date'] === 'desc'}"></i>
                                                  </span>
                                                </th>
                                                <td mat-cell *matCellDef="let element" style="width: 250px;">{{ element.due_date }}</td>
                                              </ng-container>
                                              <!-- Status Column -->
                                              <ng-container matColumnDef="status">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 100px;"> STATUS 
                                                  <span style="margin-left: 2px;">
                                                    <i class="fas fa-lg fa-sort-up sorting-normal-color" [ngClass]="{'sorting-selected-color': columnSortDirections['status'] === 'asc' }"></i>
                                                    <i class="fas fa-lg fa-sort-down sorting-normal-color" style="margin-left:-11px" [ngClass]="{'sorting-selected-color': columnSortDirections['status'] === 'desc'}"></i>
                                                  </span>
                                                </th>
                                                <td mat-cell *matCellDef="let element" style="padding: 4px;width: 100px;">
                                                  <span class="common-status" [ngClass]="{ 'btn-failed': element.status === 'failed','btn-success': element.status === 'success'}">
                                                    {{ element.status === 'failed' ? 'Failed' : 'Success' }}
                                                  </span>
                                                </td>
                                              </ng-container>
                                              <!-- Status Column with Conditional Button Styling -->
                                              <ng-container matColumnDef="action">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 250px;"> TENANCY STATUS </th>
                                                <td mat-cell *matCellDef="let element" style="padding: 4px;width: 250px;text-align: center;">
                                                  <i class="fa fa-file"></i>
                                                </td>
                                              </ng-container>
                                              <!-- Header Row -->
                                              <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky:true"></tr>
                                              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                                            </table>
                                              <div style="text-align: center;min-height: 45px;" *ngIf="dataSource.data.length==0"> No records found</div>                                
                                               <mat-paginator #paginator [length]="totalProduct" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" showFirstLastButtons (page)="pageChanged($event)"></mat-paginator>
                                              </div>
                                           </div>
                                           <div *ngIf="selectedTab==3 && sectionTabHeader=='Due History'">
                                                  <div>
                                                      <table mat-table [dataSource]="dataDuesSource" matSort (matSortChange)="announceSortChange($event)" matSortActive="due_type" matSortDirection="asc" >
                                                              <!-- Due Type Column -->
                                                              <ng-container matColumnDef="due_type">
                                                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 150px;" title="REGISTERED DATE">DUE TYPE
                                                                  <span style="margin-left: 2px;">
                                                                    <i class="fas fa-lg fa-sort-up sorting-normal-color" [ngClass]="{'sorting-selected-color': columnSortDirections['due_type'] === 'asc' }"></i>
                                                                    <i class="fas fa-lg fa-sort-down sorting-normal-color" style="margin-left:-11px" [ngClass]="{'sorting-selected-color': columnSortDirections['due_type'] === 'desc'}"></i>
                                                                  </span>
                                                                </th>
                                                                <td mat-cell *matCellDef="let element" style="width: 150px;"> {{ element.due_type }} </td>
                                                              </ng-container>
                                                              <!--Generation Date Column -->
                                                              <ng-container matColumnDef="due_generation_date">
                                                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 260px;"> DUES GENERATION DATE
                                                                  <span style="margin-left: 2px;">
                                                                    <i class="fas fa-lg fa-sort-up sorting-normal-color" [ngClass]="{'sorting-selected-color': columnSortDirections['due_generation_date'] === 'asc' }"></i>
                                                                    <i class="fas fa-lg fa-sort-down sorting-normal-color" style="margin-left:-11px" [ngClass]="{'sorting-selected-color': columnSortDirections['due_generation_date'] === 'desc'}"></i>
                                                                  </span>
                                                                </th>
                                                                <td mat-cell *matCellDef="let element" style="width: 260px;"> {{ element.due_generation_date }} </td>
                                                              </ng-container>
                                                               <!-- Due Date Column -->
                                                               <ng-container matColumnDef="due_date">
                                                                  <th mat-header-cell *matHeaderCellDef style="width: 240px;">DUE DATE</th>
                                                                  <td mat-cell *matCellDef="let element" style="width: 240px;"> {{ element.due_date }} </td>
                                                                </ng-container>
                                                              <!-- Payment Mode Column -->
                                                              <ng-container matColumnDef="paid_mode">
                                                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 250px;"> PAYABLE AMOUNT
                                                                  <span style="margin-left: 2px;">
                                                                    <i class="fas fa-lg fa-sort-up sorting-normal-color" [ngClass]="{'sorting-selected-color': columnSortDirections['paid_mode'] === 'asc' }"></i>
                                                                    <i class="fas fa-lg fa-sort-down sorting-normal-color" style="margin-left:-11px" [ngClass]="{'sorting-selected-color': columnSortDirections['paid_mode'] === 'desc'}"></i>
                                                                  </span>
                                                                </th>
                                                                <td mat-cell *matCellDef="let element" style="width: 250px;">{{ element.paid_mode }}</td>
                                                              </ng-container>
                                                               <!-- Due Created Date Column -->
                                                               <ng-container matColumnDef="due_created_by">
                                                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 200px;"> DUE CREATED BY
                                                                  <span style="margin-left: 2px;">
                                                                    <i class="fas fa-lg fa-sort-up sorting-normal-color" [ngClass]="{'sorting-selected-color': columnSortDirections['due_created_by'] === 'asc' }"></i>
                                                                    <i class="fas fa-lg fa-sort-down sorting-normal-color" style="margin-left:-11px" [ngClass]="{'sorting-selected-color': columnSortDirections['due_created_by'] === 'desc'}"></i>
                                                                  </span>
                                                                </th>
                                                                <td mat-cell *matCellDef="let element" style="width: 200px;">{{ element.due_created_by }}</td>
                                                              </ng-container>
                                                              <!-- Header Row -->
                                                              <tr mat-header-row *matHeaderRowDef="displayedDuesColumns; sticky:true"></tr>
                                                              <tr mat-row *matRowDef="let row; columns: displayedDuesColumns;"></tr>
                                                            </table>
                                                            <div style="text-align: center;min-height: 45px;" *ngIf="dataDuesSource.data.length==0"> No records found</div>                                
                                                            <mat-paginator #paginator [length]="totalProduct" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" showFirstLastButtons (page)="pageChanged($event)"></mat-paginator>
                                                          </div>
                                                       </div>
                                                 <div *ngIf="selectedTab==3 && sectionTabHeader=='Refund History'">
                                                   <div>
                                                     <table mat-table [dataSource]="dataRefundSource" matSort (matSortChange)="announceSortChange($event)" matSortActive="booking_id" matSortDirection="asc" >
                                                          <!--Cancellation Date Column -->
                                                          <ng-container matColumnDef="cancellation_date">
                                                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 250px;" title="REGISTERED DATE">CANCELLATION DATE
                                                              <span style="margin-left: 2px;">
                                                                <i class="fas fa-lg fa-sort-up sorting-normal-color" [ngClass]="{'sorting-selected-color': columnSortDirections['cancellation_date'] === 'asc' }"></i>
                                                                <i class="fas fa-lg fa-sort-down sorting-normal-color" style="margin-left:-11px" [ngClass]="{'sorting-selected-color': columnSortDirections['cancellation_date'] === 'desc'}"></i>
                                                              </span>
                                                            </th>
                                                            <td mat-cell *matCellDef="let element" style="width: 250px;"> {{ element.cancellation_date }} </td>
                                                          </ng-container>
                                                          <!--Booking Id Column -->
                                                          <ng-container matColumnDef="booking_id">
                                                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 260px;"> BOOKING ID
                                                              <span style="margin-left: 2px;">
                                                                <i class="fas fa-lg fa-sort-up sorting-normal-color" [ngClass]="{'sorting-selected-color': columnSortDirections['booking_id'] === 'asc' }"></i>
                                                                <i class="fas fa-lg fa-sort-down sorting-normal-color" style="margin-left:-11px" [ngClass]="{'sorting-selected-color': columnSortDirections['booking_id'] === 'desc'}"></i>
                                                              </span>
                                                            </th>
                                                            <td mat-cell *matCellDef="let element" style="width: 260px;"> {{ element.booking_id }} </td>
                                                          </ng-container>
                                                           <!--Refundable Amount Column -->
                                                           <ng-container matColumnDef="refundable_amount">
                                                              <th mat-header-cell *matHeaderCellDef style="width: 240px;">REFUNDABLE AMOUNT</th>
                                                              <td mat-cell *matCellDef="let element" style="width: 240px;"> {{ element.refundable_amount }} </td>
                                                            </ng-container>
                                                          <!--Refund Title Column -->
                                                          <ng-container matColumnDef="refund_title">
                                                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 250px;"> REFUND TITLE
                                                              <span style="margin-left: 2px;">
                                                                <i class="fas fa-lg fa-sort-up sorting-normal-color" [ngClass]="{'sorting-selected-color': columnSortDirections['refund_title'] === 'asc' }"></i>
                                                                <i class="fas fa-lg fa-sort-down sorting-normal-color" style="margin-left:-11px" [ngClass]="{'sorting-selected-color': columnSortDirections['refund_title'] === 'desc'}"></i>
                                                              </span>
                                                            </th>
                                                            <td mat-cell *matCellDef="let element" style="width: 250px;">{{ element.refund_title }}</td>
                                                          </ng-container>
                                                           <!-- Status Column -->
                                                           <ng-container matColumnDef="status">
                                                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 120px;"> STATUS
                                                              <span style="margin-left: 2px;">
                                                                <i class="fas fa-lg fa-sort-up sorting-normal-color" [ngClass]="{'sorting-selected-color': columnSortDirections['status'] === 'asc' }"></i>
                                                                <i class="fas fa-lg fa-sort-down sorting-normal-color" style="margin-left:-11px" [ngClass]="{'sorting-selected-color': columnSortDirections['status'] === 'desc'}"></i>
                                                              </span>
                                                            </th>
                                                            <!-- <td mat-cell *matCellDef="let element" style="width: 200px;">{{ element.status }}</td> -->
                                                            <td mat-cell *matCellDef="let element" style="padding: 4px;width: 120px;">
                                                              <span class="common-status" [ngClass]="{ 'btn-failed': element.status === 'failed','btn-success': element.status === 'success'}">
                                                                {{ element.status === 'failed' ? 'Failed' : 'Success' }}
                                                              </span>
                                                            </td>
                                                          </ng-container>
                                                           <!-- Status Column with Conditional Button Styling -->
                                                          <ng-container matColumnDef="action">
                                                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 100px;"> ACTION </th>
                                                            <td mat-cell *matCellDef="let element" style="padding: 4px;width: 100px; text-align: center;">
                                                              <i class="fa fa-file"></i>
                                                            </td>
                                                          </ng-container>
                                                          <!-- Header Row -->
                                                          <tr mat-header-row *matHeaderRowDef="displayedRefundColumns; sticky:true"></tr>
                                                          <tr mat-row *matRowDef="let row; columns: displayedRefundColumns;"></tr>
                                                        </table>
                                                        <div style="text-align: center;min-height: 45px;" *ngIf="dataDuesSource.data.length==0"> No records found</div>                                
                                                        <mat-paginator #paginator [length]="totalProduct" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" showFirstLastButtons (page)="pageChanged($event)"></mat-paginator>
                                                      </div>
                                               </div>
                                          </div>  
                                        </div>
                                    </div>
                                 </div>
                               </div>
                            </div>
                        </div>  <!-- End Card Body -->  
                      </div>
                  <!-- /.container-fluid -->
              </div>
              <!-- End of Main Content -->
          </div>
          <!-- End of Content Wrapper -->
     </div>
    <!-- End of Page Wrapper -->
  </div>